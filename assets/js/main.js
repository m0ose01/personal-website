console.log('This site was generated by Hugo.');

document.addEventListener("DOMContentLoaded", main)

function main() {
	let mode_toggle = document.getElementById("modetoggle")
	mode_toggle.addEventListener("mousedown", toggleMode)
	let icons = mode_toggle.children
	switch (localStorage.theme) {
		case ("dark"):
			icons[1].classList.remove("hidden")
			break;
		case ("light"):
			icons[2].classList.remove("hidden")
			break;
		default:
			icons[0].classList.remove("hidden")
			break
	}
}

function toggleMode(event) {
	icons = event.currentTarget.children

	switch (localStorage.theme) {
		case ("dark"):
			localStorage.theme = "light"
			icons[1].classList.add("hidden")
			icons[2].classList.remove("hidden")
			console.log("the current theme is light")
			break;
		case ("light"):
			localStorage.removeItem("theme")
			icons[2].classList.add("hidden")
			icons[0].classList.remove("hidden")
			console.log("the current theme is system")
			break;
		default:
			localStorage.theme = "dark"
			icons[0].classList.add("hidden")
			icons[1].classList.remove("hidden")
			console.log("the current theme is dark")
			break;
	}
	updateTheme()
}
